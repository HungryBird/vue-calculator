"use strict";var btnText={operator:{divide:"÷",multiply:"×",minus:"-",plus:"+",remainder:"%",point:"."},number:{one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",zero:"0"},clear:"C",back:"<-",equal:"=",finished:!1,displayer:"0",displayerStyle:{shortLength:!0,midLength:!1,longLength:!1},storeExpression:[],storeOpr:"",expressions:[]};new Vue({el:"#main",data:btnText,methods:{clearDisplayer:function(){this.storeOpr="",this.storeExpression.length=0,this.displayer="0",this.expressions.length=0},goBack:function(){this.displayer.length>1?this.displayer=this.displayer.substring(0,this.displayer.length-1):0!==this.storeExpression.length?(this.displayer=this.storeExpression[storeExpression.length-1],this.storeExpression.pop()):this.displayer="0"},toOperator:function(s){switch(this.finished=!1,Number.isNaN(Number.parseInt(this.displayer))||(this.storeExpression.push(this.displayer),this.expressions.push({name:this.displayer}),console.log(this.expressions)),this.displayer=s,s){case"×":s="*";break;case"÷":s="/"}this.storeOpr=s},getNumber:function(s){this.finished&&(this.finished=!1,this.displayer="0",this.expressions.length=0),Number.isNaN(Number.parseInt(this.displayer))?Number.isNaN(Number.parseInt(this.displayer))&&(this.storeExpression.push(this.storeOpr),this.expressions.push({name:this.storeOpr}),this.displayer=s):this.displayer.length<26&&("0"===this.displayer?this.displayer=s:this.displayer+=s)},setPoint:function(s){if(!(this.displayer.length>=26)){for(var e=0;e<this.displayer.length;e++)if(this.displayer.charAt(e)===s)return;this.displayer+=s}},toEqual:function toEqual(){this.finished||(Number.isNaN(Number.parseInt(this.displayer))?(this.displayer=eval(this.storeExpression.join("")).toString(),this.storeExpression.length=0,this.finished=!0):(this.storeExpression.push(this.displayer),this.expressions.push({name:this.displayer}),this.displayer=eval(this.storeExpression.join("")).toString(),this.storeExpression.length=0,this.finished=!0))}},watch:{displayer:function(s,e){switch(s){case"*":this.displayer="×";break;case"/":this.displayer="÷"}s.length<11?(this.displayerStyle.shortLength=!0,this.displayerStyle.midLength=!1,this.displayerStyle.longLength=!1):s.length>=11&&s.length<18?(this.displayerStyle.shortLength=!1,this.displayerStyle.midLength=!0,this.displayerStyle.longLength=!1):(this.displayerStyle.shortLength=!1,this.displayerStyle.midLength=!1,this.displayerStyle.longLength=!0)}}});